!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("GestureHelper",[],e):"object"==typeof exports?exports.GestureHelper=e():t.GestureHelper=e()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){(function(e){(function(){var i,n,s,r,o,h;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=e&&e.hrtime?(t.exports=function(){return(i()-o)/1e6},n=e.hrtime,r=(i=function(){var t;return 1e9*(t=n())[0]+t[1]})(),h=1e9*e.uptime(),o=r-h):Date.now?(t.exports=function(){return Date.now()-s},s=Date.now()):(t.exports=function(){return(new Date).getTime()-s},s=(new Date).getTime())}).call(this)}).call(this,i(1))},function(t,e){var i,n,s=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function h(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,l=[],c=!1,u=-1;function p(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&f())}function f(){if(!c){var t=h(p);c=!0;for(var e=l.length;e;){for(a=l,l=[];++u<e;)a&&a[u].run();u=-1,e=l.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function d(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new v(t,e)),1!==l.length||c||h(f)},v.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=d,s.addListener=d,s.once=d,s.off=d,s.removeListener=d,s.removeAllListeners=d,s.emit=d,s.prependListener=d,s.prependOnceListener=d,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){(function(n){var s;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(r){var o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};function h(){this._events={},this._conf&&a.call(this,this._conf)}function a(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._maxListeners=void 0!==t.maxListeners?t.maxListeners:10,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this._newListener=t.newListener),t.removeListener&&(this._removeListener=t.removeListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(t,e){var i="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(i+=" Event name: "+e+"."),void 0!==n&&n.emitWarning){var s=new Error(i);s.name="MaxListenersExceededWarning",s.emitter=this,s.count=t,n.emitWarning(s)}else console.error(i),console.trace&&console.trace()}function c(t){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,a.call(this,t)}function u(t,e,i,n){if(!i)return[];var s,r,o,h,a,l,c,p=[],f=e.length,v=e[n],d=e[n+1];if(n===f&&i._listeners){if("function"==typeof i._listeners)return t&&t.push(i._listeners),[i];for(s=0,r=i._listeners.length;s<r;s++)t&&t.push(i._listeners[s]);return[i]}if("*"===v||"**"===v||i[v]){if("*"===v){for(o in i)"_listeners"!==o&&i.hasOwnProperty(o)&&(p=p.concat(u(t,e,i[o],n+1)));return p}if("**"===v){for(o in(c=n+1===f||n+2===f&&"*"===d)&&i._listeners&&(p=p.concat(u(t,e,i,f))),i)"_listeners"!==o&&i.hasOwnProperty(o)&&("*"===o||"**"===o?(i[o]._listeners&&!c&&(p=p.concat(u(t,e,i[o],f))),p=p.concat(u(t,e,i[o],n))):p=o===d?p.concat(u(t,e,i[o],n+2)):p.concat(u(t,e,i[o],n)));return p}p=p.concat(u(t,e,i[v],n+1))}if((h=i["*"])&&u(t,e,h,n+1),a=i["**"])if(n<f)for(o in a._listeners&&u(t,e,a,f),a)"_listeners"!==o&&a.hasOwnProperty(o)&&(o===d?u(t,e,a[o],n+2):o===v?u(t,e,a[o],n+1):((l={})[o]=a[o],u(t,e,{"**":l},n+1)));else a._listeners?u(t,e,a,f):a["*"]&&a["*"]._listeners&&u(t,e,a["*"],f);return p}function p(t,e){for(var i=0,n=(t="string"==typeof t?t.split(this.delimiter):t.slice()).length;i+1<n;i++)if("**"===t[i]&&"**"===t[i+1])return;for(var s=this.listenerTree,r=t.shift();void 0!==r;){if(s[r]||(s[r]={}),s=s[r],0===t.length)return s._listeners?("function"==typeof s._listeners&&(s._listeners=[s._listeners]),s._listeners.push(e),!s._listeners.warned&&this._maxListeners>0&&s._listeners.length>this._maxListeners&&(s._listeners.warned=!0,l.call(this,s._listeners.length,r))):s._listeners=e,!0;r=t.shift()}return!0}c.EventEmitter2=c,c.prototype.delimiter=".",c.prototype.setMaxListeners=function(t){void 0!==t&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},c.prototype.event="",c.prototype.once=function(t,e){return this._once(t,e,!1)},c.prototype.prependOnceListener=function(t,e){return this._once(t,e,!0)},c.prototype._once=function(t,e,i){return this._many(t,1,e,i),this},c.prototype.many=function(t,e,i){return this._many(t,e,i,!1)},c.prototype.prependMany=function(t,e,i){return this._many(t,e,i,!0)},c.prototype._many=function(t,e,i,n){var s=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function r(){return 0==--e&&s.off(t,r),i.apply(this,arguments)}return r._origin=i,this._on(t,r,n),s},c.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var t=arguments[0];if("newListener"===t&&!this._newListener&&!this._events.newListener)return!1;var e,i,n,s,r,o=arguments.length;if(this._all&&this._all.length){if(r=this._all.slice(),o>3)for(e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];for(n=0,i=r.length;n<i;n++)switch(this.event=t,o){case 1:r[n].call(this,t);break;case 2:r[n].call(this,t,arguments[1]);break;case 3:r[n].call(this,t,arguments[1],arguments[2]);break;default:r[n].apply(this,e)}}if(this.wildcard){r=[];var a="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,r,a,this.listenerTree,0)}else{if("function"==typeof(r=this._events[t])){switch(this.event=t,o){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(o-1),s=1;s<o;s++)e[s-1]=arguments[s];r.apply(this,e)}return!0}r&&(r=r.slice())}if(r&&r.length){if(o>3)for(e=new Array(o-1),s=1;s<o;s++)e[s-1]=arguments[s];for(n=0,i=r.length;n<i;n++)switch(this.event=t,o){case 1:r[n].call(this);break;case 2:r[n].call(this,arguments[1]);break;case 3:r[n].call(this,arguments[1],arguments[2]);break;default:r[n].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var t=arguments[0];if("newListener"===t&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,i,n,s,r,o=[],a=arguments.length;if(this._all){if(a>3)for(e=new Array(a),s=1;s<a;s++)e[s]=arguments[s];for(n=0,i=this._all.length;n<i;n++)switch(this.event=t,a){case 1:o.push(this._all[n].call(this,t));break;case 2:o.push(this._all[n].call(this,t,arguments[1]));break;case 3:o.push(this._all[n].call(this,t,arguments[1],arguments[2]));break;default:o.push(this._all[n].apply(this,e))}}if(this.wildcard){r=[];var l="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,r,l,this.listenerTree,0)}else r=this._events[t];if("function"==typeof r)switch(this.event=t,a){case 1:o.push(r.call(this));break;case 2:o.push(r.call(this,arguments[1]));break;case 3:o.push(r.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(a-1),s=1;s<a;s++)e[s-1]=arguments[s];o.push(r.apply(this,e))}else if(r&&r.length){if(r=r.slice(),a>3)for(e=new Array(a-1),s=1;s<a;s++)e[s-1]=arguments[s];for(n=0,i=r.length;n<i;n++)switch(this.event=t,a){case 1:o.push(r[n].call(this));break;case 2:o.push(r[n].call(this,arguments[1]));break;case 3:o.push(r[n].call(this,arguments[1],arguments[2]));break;default:o.push(r[n].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},c.prototype.on=function(t,e){return this._on(t,e,!1)},c.prototype.prependListener=function(t,e){return this._on(t,e,!0)},c.prototype.onAny=function(t){return this._onAny(t,!1)},c.prototype.prependAny=function(t){return this._onAny(t,!0)},c.prototype.addListener=c.prototype.on,c.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},c.prototype._on=function(t,e,i){if("function"==typeof t)return this._onAny(t,e),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||h.call(this),this._newListener&&this.emit("newListener",t,e),this.wildcard?(p.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),i?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,l.call(this,this._events[t].length,t))):this._events[t]=e,this)},c.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var i,n=[];if(this.wildcard){var s="string"==typeof t?t.split(this.delimiter):t.slice();n=u.call(this,null,s,this.listenerTree,0)}else{if(!this._events[t])return this;i=this._events[t],n.push({_listeners:i})}for(var r=0;r<n.length;r++){var h=n[r];if(i=h._listeners,o(i)){for(var a=-1,l=0,c=i.length;l<c;l++)if(i[l]===e||i[l].listener&&i[l].listener===e||i[l]._origin&&i[l]._origin===e){a=l;break}if(a<0)continue;return this.wildcard?h._listeners.splice(a,1):this._events[t].splice(a,1),0===i.length&&(this.wildcard?delete h._listeners:delete this._events[t]),this._removeListener&&this.emit("removeListener",t,e),this}(i===e||i.listener&&i.listener===e||i._origin&&i._origin===e)&&(this.wildcard?delete h._listeners:delete this._events[t],this._removeListener&&this.emit("removeListener",t,e))}return function t(e){if(void 0!==e){var i=Object.keys(e);for(var n in i){var s=i[n],r=e[s];r instanceof Function||"object"!=typeof r||null===r||(Object.keys(r).length>0&&t(e[s]),0===Object.keys(r).length&&delete e[s])}}}(this.listenerTree),this},c.prototype.offAny=function(t){var e,i=0,n=0;if(t&&this._all&&this._all.length>0){for(i=0,n=(e=this._all).length;i<n;i++)if(t===e[i])return e.splice(i,1),this._removeListener&&this.emit("removeListenerAny",t),this}else{if(e=this._all,this._removeListener)for(i=0,n=e.length;i<n;i++)this.emit("removeListenerAny",e[i]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(t){if(void 0===t)return!this._events||h.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),i=u.call(this,null,e,this.listenerTree,0),n=0;n<i.length;n++){i[n]._listeners=null}else this._events&&(this._events[t]=null);return this},c.prototype.listeners=function(t){if(this.wildcard){var e=[],i="string"==typeof t?t.split(this.delimiter):t.slice();return u.call(this,e,i,this.listenerTree,0),e}return this._events||h.call(this),this._events[t]||(this._events[t]=[]),o(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},c.prototype.eventNames=function(){return Object.keys(this._events)},c.prototype.listenerCount=function(t){return this.listeners(t).length},c.prototype.listenersAny=function(){return this._all?this._all:[]},void 0===(s=function(){return c}.call(e,i,e,t))||(t.exports=s)}()}).call(this,i(1))},function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return o}));var n=i(2),s=i(0),r=i.n(s);(function(t){if(!("InputDeviceCapabilities"in t||"sourceCapabilities"in UIEvent.prototype)){l.prototype={get firesTouchEvents(){return this.__firesTouchEvents}},t.InputDeviceCapabilities=l;var e,i=new l({firesTouchEvents:!0}),n=new l({firesTouchEvents:!1});document.addEventListener("touchstart",c,!0),document.addEventListener("touchmove",c,!0),document.addEventListener("touchend",c,!0),document.addEventListener("touchcancel",c,!0);var s="__inputDeviceCapabilitiesPolyfill_specifiedSourceCapabilities",r=["resize","error","load","unload","abort"];Object.defineProperty(UIEvent.prototype,"sourceCapabilities",{get:function(){if(s in this)return this[s];if(r.indexOf(this.type)>=0)return null;if(!("TouchEvent"in t))return n;if(this instanceof TouchEvent)return i;if("PointerEvent"in t&&this instanceof PointerEvent)return"touch"==this.pointerType?i:n;var o=Date.now()<e+1e3?i:n;return Object.defineProperty(this,s,{value:o,writable:!1}),o},configurable:!0,enumerable:!0});for(var o=["UIEvent","MouseEvent","TouchEvent","InputEvent","CompositionEvent","FocusEvent","KeyboardEvent","WheelEvent","PointerEvent"],h=0;h<o.length;h++)u(o[h]);var a=Document.prototype.createEvent;Document.prototype.createEvent=function(t){var e=a.call(this,t);if(e instanceof UIEvent)return Object.defineProperty(e,s,{value:null,writable:!1}),e}}function l(t){Object.defineProperty(this,"__firesTouchEvents",{value:!!(t&&"firesTouchEvents"in t)&&t.firesTouchEvents,writable:!1,enumerable:!1})}function c(t){e=Date.now()}function u(e){if(e in t&&"length"in t[e]&&!(t[e].length<1)){var i=t[e];t[e]=function(t,e){var n=e&&e.sourceCapabilities?e.sourceCapabilities:null;e&&delete e.sourceCapabilities;var r=new i(t,e);return Object.defineProperty(r,s,{value:n,writable:!1}),r},t[e].prototype=i.prototype}}})(window);class o extends n.EventEmitter2{constructor(...t){super({wildcard:!0}),this.mouseMove=t=>{this.handleMove({e:t,x:t.clientX,y:t.clientY})},this.touchMove=t=>{this.handleMove({e:t,x:t.touches[0].clientX,y:t.touches[0].clientY})},this.touchStart=t=>{this.handleStart({x:t.touches[0].clientX,y:t.touches[0].clientY,e:t}),this.el.addEventListener("touchmove",this.touchMove,this.eventOptions)},this.touchEnd=t=>{this.handleEnd(t),this.el.removeEventListener("touchmove",this.touchMove,this.eventOptions)},this.mouseDown=t=>{t.sourceCapabilities.firesTouchEvents||(this.handleStart({x:t.clientX,y:t.clientY,e:t}),this.el.addEventListener("mousemove",this.mouseMove,this.eventOptions))},this.mouseUp=t=>{t.sourceCapabilities.firesTouchEvents||(this.handleEnd(t),this.el.removeEventListener("mousemove",this.mouseMove,this.eventOptions))},this.handleEnd=t=>{const e=r()()-this.startTime;if(this.emit("pan.preend",{sourceEvent:t}),this.panning){this.panning=!1;let e=!1,i=null;this.velocity.max.x>this.options.swipeVelocity&&"horizontal"===this.startDirection?(e=!0,i=this.velocity.current.x>0?"right":"left"):this.velocity.max.y>this.options.swipeVelocity&&"vertical"===this.startDirection&&(e=!0,i=this.velocity.current.y>0?"down":"up"),this.emit("pan.end",{isSwipe:e,swipeDirection:i,sourceEvent:t})}else e<=this.options.maxTapDuration&&this.emit("tap",{srcEvent:t})},this.el=t[0],this.options=Object.assign({},{sensitivity:5,passive:!1,capture:!1,swipeVelocity:60,maxTapDuration:100,longTapDuration:400,startDirectionLoopCount:2,terminatePanOutsideBounds:!1,outsideBoundsOffset:10},t[1]||{}),this.panning=!1,this.startDirection=null,this.directionCount=0,this.dimensions={w:0,h:0},this.clearVelocityStats(),this.eventOptions=!1;try{var e=Object.defineProperty({},"passive",{get:()=>{this.eventOptions={passive:!!this.options.passive,capture:!!this.options.capture}}});this.el.addEventListener("test",null,e)}catch(t){console.error(t),this.eventOptions={capture:!!this.options.capture}}this.setup()}clearVelocityStats(){this.velocity={current:{x:0,y:0},max:{x:0,y:0}}}isPanning(){return this.panning}setup(){this.el.addEventListener("mousedown",this.mouseDown,this.eventOptions),this.el.addEventListener("mouseup",this.mouseUp,this.eventOptions),this.el.addEventListener("touchstart",this.touchStart,this.eventOptions),this.el.addEventListener("touchend",this.touchEnd,this.eventOptions),this.el.addEventListener("touchcancel",this.touchEnd,this.eventOptions)}destroy(){this.el.removeEventListener("mousedown",this.mouseDown,this.eventOptions),this.el.removeEventListener("mouseup",this.mouseUp,this.eventOptions),this.el.removeEventListener("mousemove",this.mouseMove,this.eventOptions),this.el.removeEventListener("touchstart",this.touchStart,this.eventOptions),this.el.removeEventListener("touchend",this.touchEnd,this.eventOptions),this.el.removeEventListener("touchcancel",this.touchEnd,this.eventOptions),this.el.removeEventListener("touchmove",this.touchMove,this.eventOptions)}getStartDirection({x:t=0,y:e=0}){if(this.directionCount<=this.options.startDirectionLoopCount||Math.abs(t)===Math.abs(e))return this.directionCount+=1,null;return Math.abs(t)>=Math.abs(e)?"horizontal":"vertical"}handleStart({x:t=0,y:e=0,e:i={}}){this.startX=t,this.startY=e,this.startDirection=null,this.directionCount=1,this.panning=!1,this.startTime=r()(),this.clearVelocityStats(),this.emit("pan.prestart",{sourceEvent:i})}handleMove({e:t,x:e=0,y:i=0}){const n=e-this.startX,s=i-this.startY;if(null===this.startDirection?this.startDirection=this.getStartDirection({x:n,y:s}):!this.panning&&(Math.abs(n)>this.options.sensitivity||Math.abs(s)>this.options.sensitivity)&&(this.panning=!0,this.emit("pan.start",{startDirection:this.startDirection,sourceEvent:t})),this.panning){this.emit("pan.all",{startDirection:this.startDirection,deltaX:n,deltaY:s,sourceEvent:t}),"horizontal"===this.startDirection?n<0?this.emit("pan.x.left",{delta:n,sourceEvent:t}):this.emit("pan.x.right",{delta:n,sourceEvent:t}):"vertical"===this.startDirection&&(s<0?this.emit("pan.y.up",{delta:s,sourceEvent:t}):this.emit("pan.y.down",{delta:s,sourceEvent:t}));const e=r()()-this.startTime;this.velocity.current.x=n/e*100,this.velocity.current.y=s/e*100,this.velocity.max.x=Math.max(this.velocity.max.x,Math.abs(this.velocity.current.x)),this.velocity.max.y=Math.max(this.velocity.max.y,Math.abs(this.velocity.current.y)),this.lastDeltaX=n,this.lastDeltaY=s}}}}]).default}));